

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>printer73x’s documentation &mdash; printer73x 1.0.2 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="printer73x 1.0.2 documentation" href="#" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">printer73x 1.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="printer73x-s-documentation">
<h1>printer73x&#8217;s documentation<a class="headerlink" href="#printer73x-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="a-cnc-printer-for-binary-images">
<h2>A CNC printer for binary images<a class="headerlink" href="#a-cnc-printer-for-binary-images" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Author:</th><td class="field-body">Pedro I. López [<a class="reference external" href="mailto:dreilopz&#37;&#52;&#48;gmail&#46;com">dreilopz<span>&#64;</span>gmail<span>&#46;</span>com</a>]</td>
</tr>
<tr class="field-even field"><th class="field-name">License:</th><td class="field-body"><a class="reference external" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution 3.0 Unported License</a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Date:</th><td class="field-body">November 02, 2012</td>
</tr>
</tbody>
</table>
<p><a class="reference external" href="http://www.dreilopz.me/printer73x">Project&#8217;s website</a>.</p>
<p><a class="reference external" href="http://www.youtube.com/playlist?list=PL7141B5B35BD03A5E">Videos</a>.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/printer73x.png"><img alt="printer73x picture." src="_images/printer73x.png" style="width: 368.4px; height: 331.8px;" /></a>
<p class="caption">printer73x.</p>
</div>
<div class="section" id="introduction">
<span id="section-introduction"></span><h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p><strong>printer73x</strong> is a CNC system for printing binary images.  printer73x
was developed for the school courses <em>734 - PROYECTO DE IMTC I</em> and <em>735
- PROYECTO DE IMTC II</em> (spanish for <em>mechatronics project</em>) at <a class="reference external" href="http://www.fime.uanl.mx/en/">FIME</a> <a class="reference external" href="http://www.uanl.mx/">UANL</a>.
printer73x has only been tested on Windows XP and Fedora 15 but will
work on Windows Vista, Windows 7, Mac OS X, and most Linux
distributions.  The software is written mainly in Python and MATLAB.</p>
<p>printer73x 1.0 is released for educative purposes.  I&#8217;m (Pedro I.
López) currently trying to persuade the mechanical design team to
publicly release the documentation for the structure (<em>printerm</em>), but
for the moment this distribution doesn&#8217;t include it.</p>
<p>The following people were involved in the development and funding of
printer73x.</p>
<p>Mechanical design and implementation:</p>
<blockquote>
<div><ul class="simple">
<li>Ulises Acosta Muñiz</li>
<li>Javier Longoria</li>
<li>Gregorio Reyes Banda</li>
<li>Abraham Arturo Silva Flores</li>
</ul>
</div></blockquote>
<p>Software and electronic design and implementation:</p>
<blockquote>
<div><ul class="simple">
<li>Iván García González</li>
<li>Pedro I. López [<a class="reference external" href="mailto:dreilopz&#37;&#52;&#48;gmail&#46;com">dreilopz<span>&#64;</span>gmail<span>&#46;</span>com</a>]</li>
</ul>
</div></blockquote>
<p>The sections <a class="reference internal" href="#section-physical-components"><em>Physical Components</em></a> and
<a class="reference internal" href="#section-design"><em>System requirements</em></a> list symbolic names of different elements of the
systems that are used throughout the document.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In this document the standard Unix-like path notation is used.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Every path is relative to the project&#8217;s distribution main
directory.</p>
</div>
</div>
<div class="section" id="system-requirements">
<span id="section-design"></span><h3>System requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h3>
<p>Hardware and software requirements.</p>
<ul class="simple">
<li>Supported operating system:<ul>
<li>Windows XP (tested)</li>
<li>Windows Vista</li>
<li>Windows 7</li>
<li>Most Linux distributions (tested on Fedora 15)</li>
<li>Mac OSX</li>
</ul>
</li>
<li>1 USB port.</li>
<li>MATLAB &gt;7.0.</li>
</ul>
</div>
<div class="section" id="design">
<h3>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h3>
<p>As stated in the section <a class="reference internal" href="#section-introduction"><em>Introduction</em></a>, printer73x is a
project developed for a school course.  The following are factors
influencing the project&#8217;s design and implementation:</p>
<ul class="simple">
<li>High priority<ul>
<li>Low implementation time.</li>
<li>Portability across different systems.</li>
<li>Simple design.</li>
<li>Low cost.</li>
</ul>
</li>
<li>Low priority<ul>
<li>Extensibility.</li>
<li>Ease of use.</li>
<li>Ease of installation.</li>
<li>Tight integration of the subsystems.</li>
</ul>
</li>
</ul>
<p>printer73x is CNC printer that reproduces an image selected from the PC.
The machine tool is a pen that is translated across the 3 axes of the
machine.  The <img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/> and <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> axes form a finite plane in which
the pen translates, with each position equivalent to a pixel location in
the image.  In any position the pen is able to translate across the
<img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/> axis to print color in the pixel location.</p>
<p>Stepper motors are used to drive the translation across the <img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/>
and <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> axes.  There are only two possible positions the pen can
have across the <img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/> axis (either print the present pixel or not),
so in this case a servomotor is enough to move the pen up and down in
any pixel location of the image/plane.  So the machine uses 1 stepper
motor for each <img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/> and <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> axis, and 1 servomotor for the
<img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/> axis.  The printed image is binary because a single pen is
used to print the whole image, resulting in 2 possible colors:  the
surface color and the pen color.</p>
<p>The project is split in the following subsystems:</p>
<dl class="docutils">
<dt><strong>PIMG</strong></dt>
<dd><em>Processing IMaGe</em>, routines that process the input image to adapt it
to printerc requirements.  It outputs a modified image which the user
manually inputs to printerc.</dd>
<dt><strong>printerc</strong></dt>
<dd>This the computer program that actually drives printerm through
mcircuit. With its interface the user chooses the image, and starts
the printing process by continually sending commands to printerm.
Connected to mcircuit through USB.</dd>
<dt><strong>mcircuit</strong></dt>
<dd><p class="first">The main circuit, contains the microcontroller and motor drivers.  Its
subsystems are:</p>
<p><strong>MM12</strong>
<em>Mini Maestro 12</em>, the digital controller.  Connected to MCB through
regular electrical wire.</p>
<p><strong>MCB</strong>
<em>Main Connection Board</em>, supplies electrical connectors to plug the
motors and the MM12.</p>
<p class="last">Connected to printerm through the motors.</p>
</dd>
<dt><strong>printerm</strong></dt>
<dd>This is the physical machine, capable of motion across 3 axes.  Its
machine tool is a pen which can positioned at some point in a plane
(<img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/> and <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> axes) and print a pixel moving the pen in the
Z axis.</dd>
</dl>
<p><a class="reference internal" href="#fig-system-diagram"><em>System diagram</em></a> is a diagram of the whole project, see section
<a class="reference internal" href="#section-subsystems"><em>Subsystems</em></a> for details.</p>
<div class="figure" id="fig-system-diagram">
<img alt="_images/printer73x_system_diagram.png" src="_images/printer73x_system_diagram.png" />
<p class="caption">System diagram</p>
<div class="legend">
Main system diagram of printer73x with subsystems and their
respective connections.</div>
</div>
</div>
<div class="section" id="specification">
<h3>Specification<a class="headerlink" href="#specification" title="Permalink to this headline">¶</a></h3>
<p>printer73x can print raster images.  printerm the actual machine, has a
limit on the characteristics of such image, but PIMG takes care of
adapting the original input image for the rest of the process.</p>
</div>
<div class="section" id="subsystems">
<span id="section-subsystems"></span><h3>Subsystems<a class="headerlink" href="#subsystems" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="#fig-system-diagram"><em>System diagram</em></a> shows how the subsystems interact.  PIMG
adapts the image to fulfill printerc&#8217;s image requirements.  Then
printerc uses the image to drive printerm through mcircuit.</p>
<div class="section" id="pimg">
<h4>PIMG<a class="headerlink" href="#pimg" title="Permalink to this headline">¶</a></h4>
<p><em>Processing IMaGe</em>, routines that process the input image to adapt it to
printerc requirements. It outputs a modified image which the user
manually inputs to printerc.  Implemented with <a class="reference external" href="http://www.mathworks.com/products/matlab/">MATLAB</a>.  It may not be necessary
to use PIMG if the original image already fulfill printerc&#8217;s image
requirements.</p>
<div class="figure" id="fig-pimg-screenshot">
<a class="reference internal image-reference" href="_images/pimg_screenshot.png"><img alt="_images/pimg_screenshot.png" src="_images/pimg_screenshot.png" style="width: 1074.5px; height: 457.8px;" /></a>
<p class="caption">PIMG&#8217;s screenshot.</p>
</div>
</div>
<div class="section" id="module-printerc">
<span id="printerc"></span><span id="subsection-printerc"></span><h4>printerc<a class="headerlink" href="#module-printerc" title="Permalink to this headline">¶</a></h4>
<p>Numerical controller for the printer73x system.</p>
<p><strong>printerc</strong> is an interactive command line interface for the numerical control
of the <strong>printer73x</strong> system.  printerc drives printerm through mcircuit;
printerc stablishes a serial connection with mcircuit, and mcircuit is coupled
to printerm through the motors.  mcircuit (actually MM12, its subsystem) loads
in its memory the routines that correspond to the translations across the
<img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/>, <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> and <img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/> axis, and then printerc execute these
routines in order to produce the trajectory of the tool printing the image.</p>
<dl class="class">
<dt id="printerc.Getch">
<em class="property">class </em><tt class="descclassname">printerc.</tt><tt class="descname">Getch</tt><a class="reference internal" href="_modules/printerc.html#Getch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.Getch" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a single character from standard input.  Does not echo to the
screen.</p>
<p class="rubric">References</p>
<table class="docutils citation" frame="void" id="getchrecipe" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[GETCHRECIPE]</a></td><td><a class="reference external" href="http://code.activestate.com/recipes/134892/">http://code.activestate.com/recipes/134892/</a></td></tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="printerc.INTRO_MSG">
<tt class="descclassname">printerc.</tt><tt class="descname">INTRO_MSG</tt><em class="property"> = '\n**printerc**\n\nWelcome!\n\n'</em><a class="headerlink" href="#printerc.INTRO_MSG" title="Permalink to this definition">¶</a></dt>
<dd><p>Welcome message for command line interface.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.LOGF">
<tt class="descclassname">printerc.</tt><tt class="descname">LOGF</tt><em class="property"> = 'log.rst'</em><a class="headerlink" href="#printerc.LOGF" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the log file.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.MM12_AXES_CHANNELS">
<tt class="descclassname">printerc.</tt><tt class="descname">MM12_AXES_CHANNELS</tt><em class="property"> = {'Y': {'dir_negative': 5600, 'dir_channel': 2, 'dir_positive': 6800, 'step_channel': 3}, 'X': {'dir_negative': 6800, 'dir_channel': 0, 'dir_positive': 5600, 'step_channel': 1}, 'Z': {'on': 940, 'off': 1580, 'channel': 4}}</em><a class="headerlink" href="#printerc.MM12_AXES_CHANNELS" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration of the MM12 channels for the servo and stepper motors outputs.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.MM12_SCRIPT_INIT">
<tt class="descclassname">printerc.</tt><tt class="descname">MM12_SCRIPT_INIT</tt><em class="property"> = '{servo_acceleration} 4 acceleration\n{servo_speed} 4 speed\n'</em><a class="headerlink" href="#printerc.MM12_SCRIPT_INIT" title="Permalink to this definition">¶</a></dt>
<dd><p>MM12 script initialization.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.MM12_SCRIPT_RUNNING">
<tt class="descclassname">printerc.</tt><tt class="descname">MM12_SCRIPT_RUNNING</tt><em class="property"> = '\x00'</em><a class="headerlink" href="#printerc.MM12_SCRIPT_RUNNING" title="Permalink to this definition">¶</a></dt>
<dd><p>Byte value that the MM12 returns when the script is running.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.MM12_SCRIPT_STOPPED">
<tt class="descclassname">printerc.</tt><tt class="descname">MM12_SCRIPT_STOPPED</tt><em class="property"> = '\x01'</em><a class="headerlink" href="#printerc.MM12_SCRIPT_STOPPED" title="Permalink to this definition">¶</a></dt>
<dd><p>Byte value that the MM12 returns when the script is stopped.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.MM12_SUBROUTINES">
<tt class="descclassname">printerc.</tt><tt class="descname">MM12_SUBROUTINES</tt><em class="property"> = {'Y-p': {'subroutine_body': 'sub y_neg_pulse\n  5600 2 servo          # set direction\n  5600 3 servo\n  {delay} delay\n  6800 3 servo\n  {delay} delay\n  quit\n', 'subroutine_id': 4}, 'Y+p': {'subroutine_body': 'sub y_pos_pulse\n  6800 2 servo          # set direction\n  5600 3 servo\n  {delay} delay\n  6800 3 servo\n  {delay} delay\n  quit\n', 'subroutine_id': 5}, 'Z-': {'subroutine_body': 'sub z_position_off\n  6320 4 servo\n  begin\n    get_moving_state\n  while\n    # wait until is is no longer moving.\n  repeat\n  75 delay\n  quit\n', 'subroutine_id': 8}, 'Y-P': {'subroutine_body': 'sub y_neg_pixel\n  {{ntransitions}}\n  5600 2 servo          # set direction\n  begin\n    dup\n    while\n    5600 3 servo\n    {delay} delay\n    6800 3 servo\n    {delay} delay\n    1 minus\n  repeat\n  quit\n', 'subroutine_id': 6}, 'X-P': {'subroutine_body': 'sub x_neg_pixel\n  {{ntransitions}}\n  6800 0 servo          # set direction\n  begin\n    dup\n    while\n    5600 1 servo\n    {delay} delay\n    6800 1 servo\n    {delay} delay\n    1 minus\n  repeat\n  quit\n', 'subroutine_id': 2}, 'X+p': {'subroutine_body': 'sub x_pos_pulse\n  5600 0 servo          # set direction\n  5600 1 servo\n  {delay} delay\n  6800 1 servo\n  {delay} delay\n  quit\n', 'subroutine_id': 1}, 'Z+': {'subroutine_body': 'sub z_position_on\n  3760 4 servo\n  begin\n    get_moving_state\n  while\n    # wait until is is no longer moving.\n  repeat\n  75 delay\n  quit\n', 'subroutine_id': 9}, 'X-p': {'subroutine_body': 'sub x_neg_pulse\n  6800 0 servo          # set direction\n  5600 1 servo\n  {delay} delay\n  6800 1 servo\n  {delay} delay\n  quit\n', 'subroutine_id': 0}, 'X+P': {'subroutine_body': 'sub x_pos_pixel\n  {{ntransitions}}\n  5600 0 servo          # set direction\n  begin\n    dup\n    while\n    5600 1 servo\n    {delay} delay\n    6800 1 servo\n    {delay} delay\n    1 minus\n  repeat\n  quit\n', 'subroutine_id': 3}, 'Y+P': {'subroutine_body': 'sub y_pos_pixel\n  {{ntransitions}}\n  6800 2 servo          # set direction\n  begin\n    dup\n    while\n    5600 3 servo\n    {delay} delay\n    6800 3 servo\n    {delay} delay\n    1 minus\n  repeat\n  quit\n', 'subroutine_id': 7}}</em><a class="headerlink" href="#printerc.MM12_SUBROUTINES" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure that builds and identifies the MM12 script subroutines.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.SRV_SIGNAL_CHANNEL_TARGET_OFF">
<tt class="descclassname">printerc.</tt><tt class="descname">SRV_SIGNAL_CHANNEL_TARGET_OFF</tt><em class="property"> = 940</em><a class="headerlink" href="#printerc.SRV_SIGNAL_CHANNEL_TARGET_OFF" title="Permalink to this definition">¶</a></dt>
<dd><p><img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/> axis servo motor pulse width in units of quarter-<img class="math" src="_images/math/0af82c759461f374f8f4831f833cf96c404c3c49.png" alt="\mu s"/>
that enables printing (moves the tool down).</p>
</dd></dl>

<dl class="data">
<dt id="printerc.SRV_SIGNAL_CHANNEL_TARGET_ON">
<tt class="descclassname">printerc.</tt><tt class="descname">SRV_SIGNAL_CHANNEL_TARGET_ON</tt><em class="property"> = 1580</em><a class="headerlink" href="#printerc.SRV_SIGNAL_CHANNEL_TARGET_ON" title="Permalink to this definition">¶</a></dt>
<dd><p><img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/> axis servo motor pulse width in units of quarter-<img class="math" src="_images/math/0af82c759461f374f8f4831f833cf96c404c3c49.png" alt="\mu s"/>
that disables printing (moves the tool up).</p>
</dd></dl>

<dl class="data">
<dt id="printerc.STEPPER_CHANNELS_TARGET_OFF">
<tt class="descclassname">printerc.</tt><tt class="descname">STEPPER_CHANNELS_TARGET_OFF</tt><em class="property"> = 5600</em><a class="headerlink" href="#printerc.STEPPER_CHANNELS_TARGET_OFF" title="Permalink to this definition">¶</a></dt>
<dd><p>Target value in units of quarter-<img class="math" src="_images/math/0af82c759461f374f8f4831f833cf96c404c3c49.png" alt="\mu s"/> that drives the stepper
channels low.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.STEPPER_CHANNELS_TARGET_ON">
<tt class="descclassname">printerc.</tt><tt class="descname">STEPPER_CHANNELS_TARGET_ON</tt><em class="property"> = 6800</em><a class="headerlink" href="#printerc.STEPPER_CHANNELS_TARGET_ON" title="Permalink to this definition">¶</a></dt>
<dd><p>Target value in units of quarter-<img class="math" src="_images/math/0af82c759461f374f8f4831f833cf96c404c3c49.png" alt="\mu s"/> that drives the stepper
channels high.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.STEPS_PER_PIXEL">
<tt class="descclassname">printerc.</tt><tt class="descname">STEPS_PER_PIXEL</tt><em class="property"> = 90</em><a class="headerlink" href="#printerc.STEPS_PER_PIXEL" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of steps the stepper motor needs to translate 1 pixel across the
<img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/> or <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> axes.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.SUB_SERVO_TEMPLATE">
<tt class="descclassname">printerc.</tt><tt class="descname">SUB_SERVO_TEMPLATE</tt><em class="property"> = 'sub {name}\n  {position} {channel} servo\n  begin\n    get_moving_state\n  while\n    # wait until is is no longer moving.\n  repeat\n  75 delay\n  quit\n'</em><a class="headerlink" href="#printerc.SUB_SERVO_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Template for the MM12 script subroutine that drives the servo motor.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.SUB_STEPPER_PIXEL_TEMPLATE">
<tt class="descclassname">printerc.</tt><tt class="descname">SUB_STEPPER_PIXEL_TEMPLATE</tt><em class="property"> = 'sub {name}\n  {{{{ntransitions}}}}\n  {dir} {dir_channel} servo          # set direction\n  begin\n    dup\n    while\n    {off} {step_channel} servo\n    {{delay}} delay\n    {on} {step_channel} servo\n    {{delay}} delay\n    1 minus\n  repeat\n  quit\n'</em><a class="headerlink" href="#printerc.SUB_STEPPER_PIXEL_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Template for the MM12 script subroutines that drive a stepper motor in units
of pixels,</p>
</dd></dl>

<dl class="data">
<dt id="printerc.SUB_STEPPER_PULSE_TEMPLATE">
<tt class="descclassname">printerc.</tt><tt class="descname">SUB_STEPPER_PULSE_TEMPLATE</tt><em class="property"> = 'sub {name}\n  {dir} {dir_channel} servo          # set direction\n  {off} {step_channel} servo\n  {{delay}} delay\n  {on} {step_channel} servo\n  {{delay}} delay\n  quit\n'</em><a class="headerlink" href="#printerc.SUB_STEPPER_PULSE_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd><p>Template for the MM12 script subroutines that drive a stepper motor in units
of low-to-high transitions, for a precise but slow translation.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.TRANSITIONS_PER_PIXEL">
<tt class="descclassname">printerc.</tt><tt class="descname">TRANSITIONS_PER_PIXEL</tt><em class="property"> = 180</em><a class="headerlink" href="#printerc.TRANSITIONS_PER_PIXEL" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of low-to-high transitions the stepper motors need to translate 1
pixel across the <img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/> or <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> axes.</p>
</dd></dl>

<dl class="data">
<dt id="printerc.TRANSITIONS_PER_STEP">
<tt class="descclassname">printerc.</tt><tt class="descname">TRANSITIONS_PER_STEP</tt><em class="property"> = 2</em><a class="headerlink" href="#printerc.TRANSITIONS_PER_STEP" title="Permalink to this definition">¶</a></dt>
<dd><p>The board sets the microstepping format with the jumpers <em>MS1</em> and <em>MS2</em>.
Use the following table to set this constant:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="27%" />
<col width="45%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">MS1</th>
<th class="head">MS2</th>
<th class="head">TRANSITIONS_PER_STEP</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>connected</td>
<td>connected</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>disconnected</td>
<td>connected</td>
<td>2</td>
</tr>
<tr class="row-even"><td>connected</td>
<td>disconnected</td>
<td>4</td>
</tr>
<tr class="row-odd"><td>disconnected</td>
<td>disconnected</td>
<td>8</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Both stepper motor driver boards must have the same jumper
configuration.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="printerc.build_mm12_script">
<tt class="descclassname">printerc.</tt><tt class="descname">build_mm12_script</tt><big>(</big><em>fpath</em>, <em>ntransitions=180</em>, <em>delay=1</em>, <em>servo_acceleration=0</em>, <em>servo_speed=100</em><big>)</big><a class="reference internal" href="_modules/printerc.html#build_mm12_script"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.build_mm12_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a script to be loaded on the MM12.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>fpath</strong> : str-like</p>
<blockquote>
<div><p>Path location where to save the script file.</p>
</div></blockquote>
<p><strong>ntransitions</strong> : int, optional</p>
<blockquote>
<div><p>Number of low-to-high transitions to perform in the subroutines that
performs translation in units of pixels through the stepper motor
(default is <tt class="docutils literal"><span class="pre">TRANSITIONS_PER_PIXEL</span></tt>).</p>
</div></blockquote>
<p><strong>delay</strong> : int, optional</p>
<blockquote>
<div><p>Delay (in milliseconds) between each transition in the subroutines that
perform translation through the stepper motors (default is 1).</p>
</div></blockquote>
<p><strong>servo_acceleration</strong> : int, optional</p>
<blockquote>
<div><p>Sets the acceleration of the servo signal channel in units of (0.25
us)/(10 ms)/(80 ms) (default is 0).</p>
</div></blockquote>
<p><strong>servo_speed</strong> : int, optional</p>
<blockquote class="last">
<div><p>Sets the speed of the servo signal channel in units of (0.25 us)/(10
ms) (default is 100).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="printerc.connect_printerm">
<tt class="descclassname">printerc.</tt><tt class="descname">connect_printerm</tt><big>(</big><em>commandport_id</em><big>)</big><a class="reference internal" href="_modules/printerc.html#connect_printerm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.connect_printerm" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect printerc with printerm through the MM12 command port.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>commandport_id</strong> : str or int</p>
<blockquote class="last">
<div><p>Serial device name or port number number of the MM12 serial command
port.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="printerc.manual_translation_mode">
<tt class="descclassname">printerc.</tt><tt class="descname">manual_translation_mode</tt><big>(</big><em>precise=True</em><big>)</big><a class="reference internal" href="_modules/printerc.html#manual_translation_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.manual_translation_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Manually translate the printerm tool across the <img class="math" src="_images/math/2c7774174993ffa29a38cf577ae34d8e0a3a63cb.png" alt="XY"/> plane.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>precise</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>If <tt class="docutils literal"><span class="pre">True</span></tt>, perform translation in units of single low-to-high transitions
sent to the stepper motor drivers (how much the tool is translated
depends on the microstep format selected through the XMS1, XMS2, YMS1,
YMS2 jumpers in mcircuit).  If <tt class="docutils literal"><span class="pre">False</span></tt> perform translation in units
of pixels (default is True).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="printerc.mm12_script_status">
<tt class="descclassname">printerc.</tt><tt class="descname">mm12_script_status</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/printerc.html#mm12_script_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.mm12_script_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate whether the MM12 script is running or stopped.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><strong>script_status</strong> : {<tt class="docutils literal"><span class="pre">MM12_SCRIPT_RUNNING</span></tt>, <tt class="docutils literal"><span class="pre">MM12_SCRIPT_STOPPED</span></tt>}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="printerc.on_exit">
<tt class="descclassname">printerc.</tt><tt class="descname">on_exit</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/printerc.html#on_exit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.on_exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Actions to do on exit.</p>
</dd></dl>

<dl class="function">
<dt id="printerc.prepare_img">
<tt class="descclassname">printerc.</tt><tt class="descname">prepare_img</tt><big>(</big><em>imgpath</em>, <em>invert=False</em>, <em>show=False</em><big>)</big><a class="reference internal" href="_modules/printerc.html#prepare_img"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.prepare_img" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any necessary processing for the input image to be reproduced by
printerm.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>imgpath</strong> : str-like</p>
<blockquote>
<div><p>Path to the image file.  Must be PNG, 8-bit grayscale, non-interlaced.</p>
</div></blockquote>
<p><strong>invert</strong> : boolean, optional</p>
<blockquote>
<div><p>Invert the image if <tt class="docutils literal"><span class="pre">True</span></tt> (default is <tt class="docutils literal"><span class="pre">False</span></tt>).</p>
</div></blockquote>
<p><strong>show</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Show the image if <tt class="docutils literal"><span class="pre">True</span></tt> (default is <tt class="docutils literal"><span class="pre">False</span></tt>).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>This function sets the following global names:</p>
<dl class="docutils">
<dt><strong>img</strong> <span class="classifier-delimiter">:</span> <span class="classifier">array of booleans</span></dt>
<dd>2-d array representation of the image.</dd>
<dt><strong>b</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Image&#8217;s height, number of rows in the array representation.</dd>
<dt><strong>w</strong> <span class="classifier-delimiter">:</span> <span class="classifier">int</span></dt>
<dd>Image&#8217;s width, number of columns in the array representation.</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="printerc.print_image">
<tt class="descclassname">printerc.</tt><tt class="descname">print_image</tt><big>(</big><em>confirm=False</em><big>)</big><a class="reference internal" href="_modules/printerc.html#print_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.print_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="printerc.print_image_better">
<tt class="descclassname">printerc.</tt><tt class="descname">print_image_better</tt><big>(</big><em>confirm=False</em><big>)</big><a class="reference internal" href="_modules/printerc.html#print_image_better"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.print_image_better" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="printerc.print_image_better_better">
<tt class="descclassname">printerc.</tt><tt class="descname">print_image_better_better</tt><big>(</big><em>confirm=False</em><big>)</big><a class="reference internal" href="_modules/printerc.html#print_image_better_better"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.print_image_better_better" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically print the input image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>confirm</strong> : boolean, optional</p>
<blockquote class="last">
<div><p>Wait for confirmation before any translation (default is <tt class="docutils literal"><span class="pre">False</span></tt>).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Let <img class="math" src="_images/math/f3e830722dede854af533bfa96d549c68ed5997f.png" alt="\mathbf{A}"/> be the matrix representation of the input image.
<img class="math" src="_images/math/ce22efe68534fc250d19e26e20c858a787fd7479.png" alt="a_{y,x}"/> as an element of <img class="math" src="_images/math/f3e830722dede854af533bfa96d549c68ed5997f.png" alt="\mathbf{A}"/>, represents a pixel.
Comparing <img class="math" src="_images/math/f3e830722dede854af533bfa96d549c68ed5997f.png" alt="\mathbf{A}"/> with the input image from a front perspective:</p>
<ol class="arabic simple">
<li><img class="math" src="_images/math/fbbea07aa6bff4dddad8e056a82b57073e4b1a73.png" alt="a_{0,0}"/> corresponds to the upper left corner of the input image.</li>
<li><img class="math" src="_images/math/f6925b2b309287e2cf7f2eb9dbc7358de36559e4.png" alt="a_{b-1,w-1}"/> corresponds to the lower right corner of the input
image.</li>
</ol>
<p>Starting from the HOME position the printerm tool visit every element of
the row from <img class="math" src="_images/math/fbbea07aa6bff4dddad8e056a82b57073e4b1a73.png" alt="a_{0,0}"/> to <img class="math" src="_images/math/d56d9de0bf737f3f7d5e134ab31f33a34e7f011a.png" alt="a_{0,w-1}"/> then moves to the next
row (<img class="math" src="_images/math/4a9568f56112ff9b30fb4f256e90ca3a618cab84.png" alt="a_{1,w-1}"/>) and visits every element of the row from
<img class="math" src="_images/math/4a9568f56112ff9b30fb4f256e90ca3a618cab84.png" alt="a_{1,w-1}"/> to <img class="math" src="_images/math/9bc2f1d1f7e63ab761ffa7ecd4397c51f7588c8b.png" alt="a_{1,0}"/>, and so on until there are no more
rows to visit.  In any position, if the corresponding pixel is black then
the tool prints it.</p>
</dd></dl>

<dl class="function">
<dt id="printerc.print_pixel">
<tt class="descclassname">printerc.</tt><tt class="descname">print_pixel</tt><big>(</big><em>confirm=False</em><big>)</big><a class="reference internal" href="_modules/printerc.html#print_pixel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.print_pixel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="printerc.scan_serial_ports">
<tt class="descclassname">printerc.</tt><tt class="descname">scan_serial_ports</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/printerc.html#scan_serial_ports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.scan_serial_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan system for available physical or virtual serial ports.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns :</th><td class="field-body"><p class="first"><strong>available</strong> : list of tuples</p>
<blockquote class="last">
<div><p>Each element of the list is a <tt class="docutils literal"><span class="pre">(num,</span> <span class="pre">name)</span></tt> tuple with the number and
name of the port.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Directly copied from example from <a class="reference external" href="http://sourceforge.net/projects/pyserial/files/package">pyserial</a> project.</p>
</dd></dl>

<dl class="function">
<dt id="printerc.translate">
<tt class="descclassname">printerc.</tt><tt class="descname">translate</tt><big>(</big><em>adm</em>, <em>confirm=False</em><big>)</big><a class="reference internal" href="_modules/printerc.html#translate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#printerc.translate" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate the printerm tool across the <img class="math" src="_images/math/0526e1f5ad1412706cf938657f754604e672a671.png" alt="XYZ"/> space.</p>
<p>printer73x can only perform translations across a single axis at a time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters :</th><td class="field-body"><p class="first"><strong>adm: str</strong> :</p>
<blockquote>
<div><p><em>adm</em> stands for Axis, Direction, Mode.  Use the following table to
select the kind of translation you want to perform (where <img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> is
the number of pulses for the printerm tool to translate a pixel unit
across the respective axis).</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last"><em>adm</em></p>
</th>
<th class="head"><p class="first last">translation</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><p class="first last"><tt class="docutils literal"><span class="pre">X-p</span></tt></p>
</td>
<td><p class="first last">send 1 single pulse for negative translation across <img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/>.</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last"><tt class="docutils literal"><span class="pre">X+p</span></tt></p>
</td>
<td><p class="first last">send 1 single pulse for positive translation across <img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/>.</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last"><tt class="docutils literal"><span class="pre">X-P</span></tt></p>
</td>
<td><p class="first last">send <img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> pulses for negative translation across <img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/>.</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last"><tt class="docutils literal"><span class="pre">X+P</span></tt></p>
</td>
<td><p class="first last">send <img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> pulses for positive translation across <img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/>.</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last"><tt class="docutils literal"><span class="pre">Y-p</span></tt></p>
</td>
<td><p class="first last">send 1 single pulse for negative translation across <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/>.</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last"><tt class="docutils literal"><span class="pre">Y+p</span></tt></p>
</td>
<td><p class="first last">send 1 single pulse for positive translation across <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/>.</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last"><tt class="docutils literal"><span class="pre">Y-P</span></tt></p>
</td>
<td><p class="first last">send <img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> pulses for negative translation across <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/>.</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last"><tt class="docutils literal"><span class="pre">Y+P</span></tt></p>
</td>
<td><p class="first last">send <img class="math" src="_images/math/174fadd07fd54c9afe288e96558c92e0c1da733a.png" alt="n"/> pulses for positive translation across <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/>.</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last"><tt class="docutils literal"><span class="pre">Z-</span></tt></p>
</td>
<td><p class="first last">move the tool to the off position (<img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/>).</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last"><tt class="docutils literal"><span class="pre">Z+</span></tt></p>
</td>
<td><p class="first last">move the tool to the on position (<img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/>).</p>
</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>confirm: boolean, optional</strong> :</p>
<blockquote class="last">
<div><p>If <tt class="docutils literal"><span class="pre">True</span></tt>, the user must confirm the translation by pressing Enter
(default is <tt class="docutils literal"><span class="pre">False</span></tt>).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="mcircuit">
<h4>mcircuit<a class="headerlink" href="#mcircuit" title="Permalink to this headline">¶</a></h4>
<p>printerc controls mcircuit (<em>Main Circuit</em>), which in turn drives the
motors.  mcircuit&#8217;s subsystems are <a class="reference internal" href="#subsubsection-mm12"><em>MM12</em></a> and
<a class="reference internal" href="#subsubsection-mcb"><em>MCB</em></a>.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/connectors.png"><img alt="_images/connectors.png" src="_images/connectors.png" style="width: 169.15px; height: 375.7px;" /></a>
<p class="caption">mcircuit&#8217;s connectors</p>
<div class="legend">
mcircuit&#8217;s connectors diagram.</div>
</div>
<div class="figure" id="fig-mcircuit-schematic">
<a class="reference internal image-reference" href="_images/schematic.png"><img alt="_images/schematic.png" src="_images/schematic.png" style="width: 938.3px; height: 543.4px;" /></a>
<p class="caption">mcircuit&#8217;s schematic</p>
<div class="legend">
mcircuit&#8217;s schematic diagram.</div>
</div>
<div class="section" id="mm12">
<span id="subsubsection-mm12"></span><h5>MM12<a class="headerlink" href="#mm12" title="Permalink to this headline">¶</a></h5>
<div class="figure" id="fig-mm12-top-view">
<a class="reference internal image-reference" href="_images/top_view.jpg"><img alt="_images/top_view.jpg" src="_images/top_view.jpg" style="width: 480.0px; height: 335.2px;" /></a>
<p class="caption">MM12&#8217;s labeled top view.</p>
<div class="legend">
Image credit: <a class="reference internal" href="#mm12ug">[MM12UG]</a>, <a class="reference external" href="http://www.pololu.com/picture/view/0J2341">http://www.pololu.com/picture/view/0J2341</a></div>
</div>
<p>The <a class="reference external" href="http://www.pololu.com/">Pololu</a>&#8216;s <em>Mini Maestro 12</em> is an USB
servo controller.  Quoted from <a class="reference internal" href="#mm12ug">[MM12UG]</a>:</p>
<blockquote>
<div>With three control methods — USB for direct connection to a PC
computer, TTL serial for use with embedded systems, and internal
scripting for self-contained, host controller-free applications — and
channels that can be configured as servo outputs for use with radio
control (RC) servos or electronic speed controls (ESCs), digital
outputs, or analog/digital inputs, the Maestro is a highly versatile
servo controller and general I/O board in a highly compact package.</div></blockquote>
<p>MM12 doesn&#8217;t do anything in its own, it only loads some subroutines in
its memory which printerc calls through a serial connection stablished
between MM12 and printerc. This is a master-slave architecture (printerc
is master, MM12 is slave).  These subroutines are basically the
translations in each axis.  Because of limitations in MM12, subroutines
cannot execute in parallel, making axial interpolation (driving more
than 1 motor at a time) impossible (see
<a class="reference internal" href="#printerc.print_image_better_better" title="printerc.print_image_better_better"><tt class="xref py py-func docutils literal"><span class="pre">printerc.print_image_better_better()</span></tt></a>).</p>
<p>MM12 directly drives the servomotor, but uses MCB&#8217;s stepper motor
drivers to drive the stepper motors.  Again, all of this actually
commanded by printerc.</p>
<div class="admonition important" id="admonition-mcircuit-mm12-mcb-equivalent-connectors">
<p class="first admonition-title">Important</p>
<p>This pins/connectors are equivalent:</p>
<div class="highlight-python"><pre>MM12.USB_port = mcircuit.PCUSB
MM12.VSRV+ = MCB.VSRV+
MM12.VSRV- = MCB.VSRV-</pre>
</div>
<p class="last">See section <a class="reference internal" href="#section-mcb"><em>MCB</em></a></p>
</div>
<p>The script with the routines loaded in MM12 is:</p>
<div class="highlight-python"><pre>0 4 acceleration
100 4 speed

sub x_neg_pulse
  6800 0 servo          # set direction
  5600 1 servo
  1 delay
  6800 1 servo
  1 delay
  quit

sub x_pos_pulse
  5600 0 servo          # set direction
  5600 1 servo
  1 delay
  6800 1 servo
  1 delay
  quit

sub x_neg_pixel
  10
  6800 0 servo          # set direction
  begin
    dup
    while
    5600 1 servo
    1 delay
    6800 1 servo
    1 delay
    1 minus
  repeat
  quit

sub x_pos_pixel
  10
  5600 0 servo          # set direction
  begin
    dup
    while
    5600 1 servo
    1 delay
    6800 1 servo
    1 delay
    1 minus
  repeat
  quit

sub y_neg_pulse
  5600 2 servo          # set direction
  5600 3 servo
  1 delay
  6800 3 servo
  1 delay
  quit

sub y_pos_pulse
  6800 2 servo          # set direction
  5600 3 servo
  1 delay
  6800 3 servo
  1 delay
  quit

sub y_neg_pixel
  10
  5600 2 servo          # set direction
  begin
    dup
    while
    5600 3 servo
    1 delay
    6800 3 servo
    1 delay
    1 minus
  repeat
  quit

sub y_pos_pixel
  10
  6800 2 servo          # set direction
  begin
    dup
    while
    5600 3 servo
    1 delay
    6800 3 servo
    1 delay
    1 minus
  repeat
  quit

sub z_position_off
  3760 4 servo
  begin
    get_moving_state
  while
    # wait until is is no longer moving.
  repeat
  quit

sub z_position_on
  8700 4 servo
  begin
    get_moving_state
  while
    # wait until is is no longer moving.
  repeat
  quit</pre>
</div>
</div>
<div class="section" id="mcb">
<span id="subsubsection-mcb"></span><span id="section-mcb"></span><h5>MCB<a class="headerlink" href="#mcb" title="Permalink to this headline">¶</a></h5>
<p><em>Main Connection Board</em>, supplies electrical connectors to plug the
MM12, the stepper motors, the STOP button and the power supplies.  MCB
contains 2 EasyDrivers v4.0 <a class="reference internal" href="#easydriverd">[EASYDRIVERD]</a>, the stepper motors drivers.
Note that the role MCB is to merely contain the stepper motors drivers,
and to provide electrical connections to the rest of the system.
Optionally, a general hardware STOP button can be used.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/top_view.png"><img alt="_images/top_view.png" src="_images/top_view.png" style="width: 375.2px; height: 471.1px;" /></a>
<p class="caption">MCB&#8217;s top view.</p>
</div>
<div class="figure" id="fig-mcb-top-view-labeled">
<a class="reference internal image-reference" href="_images/top_view_labeled.png"><img alt="_images/top_view_labeled.png" src="_images/top_view_labeled.png" style="width: 418.6px; height: 476.7px;" /></a>
<p class="caption">MCB&#8217;s labeled top view.</p>
</div>
</div>
</div>
<div class="section" id="printerm">
<h4>printerm<a class="headerlink" href="#printerm" title="Permalink to this headline">¶</a></h4>
<p>This is the physical machine, capable of motion across 3 axes.  Its
machine tool is a pen which can positioned at some point in a plane
(<img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/> and <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> axes) and print a pixel moving the pen in the
<img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/> axis.</p>
<div class="figure">
<a class="reference internal image-reference" href="_images/0.png"><img alt="_images/0.png" src="_images/0.png" style="width: 456.6px; height: 342.6px;" /></a>
<p class="caption">printerm</p>
</div>
</div>
</div>
<div class="section" id="physical-components">
<span id="section-physical-components"></span><h3>Physical Components<a class="headerlink" href="#physical-components" title="Permalink to this headline">¶</a></h3>
<p>Symbolic names in parentheses, used throughout the document.</p>
<ul class="simple">
<li>1 12 V DC power supply, 1.25 A (PS12A).</li>
<li>1 12 V DC power supply, 1 A (PS12B).</li>
<li>1 5 V DC power supply, 1 A (PS5).</li>
<li>1 Mini Maestro 12 (MM12).</li>
<li>1 main control board (MCB).</li>
<li>6 single jumper wires, 6&#8217;&#8216;.</li>
<li>1 servomotor cable extension.</li>
<li>2 stepper motors.</li>
<li>1 servomotor.</li>
<li>1 main printer structure (printerm).</li>
<li>4 paperclips.</li>
</ul>
</div>
<div class="section" id="installation">
<span id="section-installation"></span><h3>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h3>
<div class="figure" id="fig-printer73x-connections-diagram">
<a class="reference internal image-reference" href="_images/printer73x_connections_diagram.png"><img alt="_images/printer73x_connections_diagram.png" src="_images/printer73x_connections_diagram.png" style="width: 695.8px; height: 484.4px;" /></a>
<p class="caption">printer73x&#8217;s connections diagram</p>
</div>
<ol class="arabic">
<li><p class="first">Install printerc dependencies:</p>
<ol class="arabic">
<li><p class="first">Install <em>Python</em> &gt;=2.7.1 CPython implementation.</p>
<div class="admonition-windows-note admonition">
<p class="first admonition-title">Windows note</p>
<p class="last">Download the Windows installer from
<a class="reference external" href="http://www.python.org/download/">here</a>.</p>
</div>
</li>
<li><p class="first">Install <em>pySerial</em> &gt;=2.5 (See <a class="reference internal" href="#pyseriald">[PYSERIALD]</a>, section <em>pySerial</em>,
subsection <em>Installation</em>).</p>
</li>
<li><p class="first">Install <em>IPython</em> 0.10.2 (See <a class="reference internal" href="#ipythond">[IPYTHOND]</a>, section <em>Installation</em>).</p>
</li>
<li><p class="first">Install <em>matplotlib</em> &gt;=1.0.1 (See <a class="reference internal" href="#mpld">[MPLD]</a>, section <em>User&#8217;s Guide</em>,
subsection <em>Installing</em>).</p>
</li>
<li><p class="first">Install <em>ImageMagick</em> &gt;= 6.6.5.10 (See <a class="reference internal" href="#imgmagd">[IMGMAGD]</a>).</p>
</li>
</ol>
</li>
<li><p class="first">Unzip the printer73x package to a directory of your choice.</p>
</li>
<li><p class="first">If mcircuit&#8217;s subsystems (MM12 and MCB) are disconnected, refer to
<a class="reference internal" href="#fig-mcircuit-schematic"><em>mcircuit&#8217;s schematic</em></a>, <a class="reference internal" href="#fig-mm12-top-view"><em>MM12&#8217;s labeled top view.</em></a> and
<a class="reference internal" href="#fig-mcb-top-view-labeled"><em>MCB&#8217;s labeled top view.</em></a> to connect them.</p>
</li>
<li><p class="first">Plug the motors to mcircuit (refer to
<a class="reference internal" href="#fig-printer73x-connections-diagram"><em>printer73x&#8217;s connections diagram</em></a>,
<a class="reference internal" href="#fig-mcb-top-view-labeled"><em>MCB&#8217;s labeled top view.</em></a> and
<a class="reference internal" href="#admonition-mcircuit-mm12-mcb-equivalent-connectors"><em>this important note</em></a>).</p>
</li>
<li><p class="first">Refer to <a class="reference internal" href="#fig-printer73x-connections-diagram"><em>printer73x&#8217;s connections diagram</em></a> to plug the PS5,
PS12A and PS12B power supplies to mcircuit.</p>
</li>
<li><p class="first">Install the machine tool (pen) in the <img class="math" src="_images/math/3ead47fb9fb4a4c273feee398f72ff2a09702b84.png" alt="Z"/> axis slot.</p>
</li>
</ol>
<p>Your printer73x is now installed and ready to be operated.</p>
</div>
<div class="section" id="operation">
<h3>Operation<a class="headerlink" href="#operation" title="Permalink to this headline">¶</a></h3>
<p>Follow these steps to operate the printer73x.</p>
<ol class="arabic">
<li><p class="first">Power up PS12A, PS12B and PS5.</p>
</li>
<li><p class="first">Connect your PC and mcircuit with the USB cable
(see <a class="reference internal" href="#fig-printer73x-connections-diagram"><em>printer73x&#8217;s connections diagram</em></a>).</p>
</li>
<li><p class="first">Open a command line terminal.</p>
</li>
<li><p class="first">Remove the alpha channel and adjust the image resolution with:</p>
<div class="highlight-python"><pre>mogrify -alpha off -resize '73x100' &lt;img_orig.png&gt;</pre>
</div>
<p>See ImageMagick documentation to understand better this command.  The
new pixel resolution must be less or equal than the maximum printing
resolution of the printer, which is determined by the printing
surface.</p>
</li>
<li><p class="first">Starting from the printer73x distribution directory, change the
current directory to <tt class="docutils literal"><span class="pre">printerc</span></tt>.</p>
</li>
<li><p class="first">Run the <tt class="docutils literal"><span class="pre">printerc.py</span></tt> program:</p>
<div class="highlight-python"><pre>python printerc.py</pre>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the python interpreter is not in your <tt class="docutils literal"><span class="pre">PATH</span></tt>
environment variable, call it with an absolute path.</p>
</div>
</li>
<li><p class="first">Identify the MM12 <em>command port</em>.  When you connected mcircuit to an
USB port, its shows up to your PC as 2 virtual serial ports.  You
should find out the device name or port number of the MM12 command
port (see <a class="reference internal" href="#mm12ug">[MM12UG]</a>, section 5.a).  To scan the serial ports on your
PC do:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">scan_serial_ports</span><span class="p">()</span>
</pre></div>
</div>
</li>
<li><p class="first">Connect printerc and printerm executing the <tt class="docutils literal"><span class="pre">connect_printerm</span></tt>
command with the <em>command port</em> device name or port number as
argument.  For example if your command port device name is <tt class="docutils literal"><span class="pre">COM1</span></tt>,
then run:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [2]: </span><span class="n">connect_printerm</span><span class="p">(</span><span class="s">&#39;COM1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>and you will get:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="go">``printerc`` is now connected to ``printerm`` through ``COM1``</span>
</pre></div>
</div>
</li>
<li><p class="first">Put a piece of paper on the printing surface (use the paperclips).</p>
</li>
<li><p class="first">Enter <em>manual translation mode</em> to manually translate the printerm
tool to the HOME position.  To translate precisely but slowly run:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">manual_translation_mode</span><span class="p">(</span><span class="n">precise</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>To perform a faster but less precise translation, run:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">manual_translation_mode</span><span class="p">(</span><span class="n">precise</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Because precise translation is the default, you can just run
<tt class="docutils literal"><span class="pre">manual_translation_mode()</span></tt> without arguments.  In manual
translation mode you can translate the printerm tool across the
<img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/> and <img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/> axes by sending pulses to the respective
motor drivers with your keyboard.  The following table relates the
key pressed to the translation pulse sent to the drivers:</p>
<table border="1" class="docutils">
<colgroup>
<col width="38%" />
<col width="31%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last">key pressed</p>
</th>
<th class="head"><p class="first last">axis</p>
</th>
<th class="head"><p class="first last">direction</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><p class="first last">h</p>
</td>
<td><p class="first last"><img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/></p>
</td>
<td><p class="first last">-</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">l</p>
</td>
<td><p class="first last"><img class="math" src="_images/math/6a47ca0fe7cb276abc022af6ac88ddae1a9d6894.png" alt="X"/></p>
</td>
<td><p class="first last">+</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last">j</p>
</td>
<td><p class="first last"><img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/></p>
</td>
<td><p class="first last">+</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">k</p>
</td>
<td><p class="first last"><img class="math" src="_images/math/ce58e4af225c93d08606c26554caaa5ae32edeba.png" alt="Y"/></p>
</td>
<td><p class="first last">-</p>
</td>
</tr>
</tbody>
</table>
<p>You can only manually translate across one single axis at a time.  To
exit manual translation mode just press another key.</p>
</li>
<li><p class="first">Load and process the image:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [4]: </span><span class="n">prepare_img</span><span class="p">(</span><span class="o">&lt;</span><span class="n">imgpath</span><span class="o">&gt;</span><span class="p">)</span>
<span class="go">Loading ``&lt;imgpath&gt;``...</span>
<span class="go">Processing the image...</span>
</pre></div>
</div>
<p>Where <tt class="docutils literal"><span class="pre">&lt;imgpath&gt;</span></tt> is the path to the image to print.  The following
variables will be set:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">img</span></tt>, the array representation of the image.</li>
<li><tt class="docutils literal"><span class="pre">b</span></tt>, the image&#8217;s height, number of rows in the array representation.</li>
<li><tt class="docutils literal"><span class="pre">w</span></tt>, the image&#8217;s width, number of columns in the array representation.</li>
</ul>
</li>
<li><p class="first">Start the printing process with:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [5]: </span><span class="n">print_image</span><span class="p">()</span>
<span class="go">...</span>
</pre></div>
</div>
<p>and wait for the process to finish:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="go">*printer73x* finished printing the image ``&lt;imgpath&gt;``</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">&lt;imgpath&gt;</span></tt> is the path of the image printed that you
selected in step 3.  The machine tool is in the HOME position.</p>
</li>
<li><p class="first">Exit printerc:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [6]: </span><span class="nb">exit</span><span class="p">()</span>
<span class="go">Do you really want to exit ([y]/n)?</span>

<span class="go">Thanks for using ``printerc``!</span>
</pre></div>
</div>
</li>
<li><p class="first">Power down printerm:</p>
<ol class="arabic simple">
<li>Unplug the USB cable.</li>
<li>Unplug PS5.</li>
<li>Unplug PS12B.</li>
<li>Unplug PS12A.</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="todo">
<h3>TODO<a class="headerlink" href="#todo" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Improve documentation.</li>
<li>Improve the controller to implement axial interpolation and to drive
the motors faster.</li>
<li>Merge PIMG and printerc in a single Python module, then printer73x
won&#8217;t require MATLAB anymore.</li>
<li>Improve printerc to implement the functionality from ImageMagick to
drop that software requirement.</li>
<li>Get and merge printerm documentation file with this document.</li>
<li>Create a configuration file so the user can do custom configuration
without modifying the source code.</li>
<li>Translate to english documentation sections in spanish.</li>
</ul>
</div>
<div class="section" id="references">
<h3>References<a class="headerlink" href="#references" title="Permalink to this headline">¶</a></h3>
<table class="docutils citation" frame="void" id="mm12ug" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[MM12UG]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id3">2</a>, <a class="fn-backref" href="#id9">3</a>)</em> Pololu Maestro Servo Controller User&#8217;s Guide (<a class="reference external" href="http://www.pololu.com/docs/0J40">http://www.pololu.com/docs/0J40</a>).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="pyseriald" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[PYSERIALD]</a></td><td>pySerial 2.6 project documentation
(<a class="reference external" href="http://pyserial.sourceforge.net/index.html">http://pyserial.sourceforge.net/index.html</a>).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="ipythond" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[IPYTHOND]</a></td><td>IPython 0.10.2 project documentation
(<a class="reference external" href="http://ipython.org/ipython-doc/rel-0.10.2/html/index.html">http://ipython.org/ipython-doc/rel-0.10.2/html/index.html</a>).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="mpld" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[MPLD]</a></td><td>matplotlib 1.1 project documentation
(<a class="reference external" href="http://matplotlib.sourceforge.net/contents.html">http://matplotlib.sourceforge.net/contents.html</a>).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="easydriverd" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[EASYDRIVERD]</a></td><td><em>EasyDriver Stepper Motor Driver.  An Open Source Hardware
Stepper Motor Drive Project</em> (<a class="reference external" href="http://www.schmalzhaus.com/EasyDriver/">http://www.schmalzhaus.com/EasyDriver/</a>).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="a3967d" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[A3967D]</td><td><em>Microstepping Driver with Translator</em>.  Allegro MicroSystems, Inc.
Datasheet
(<a class="reference external" href="http://www.allegromicro.com/en/Products/Part_Numbers/3967/3967.pdf">http://www.allegromicro.com/en/Products/Part_Numbers/3967/3967.pdf</a>).</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="imgmagd" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[IMGMAGD]</a></td><td><em>Download Binary Releases</em>.
<a class="reference external" href="http://www.imagemagick.org/script/binary-releases.php">http://www.imagemagick.org/script/binary-releases.php</a></td></tr>
</tbody>
</table>
</div>
<div class="section" id="indices-and-tables">
<h3>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">printer73x&#8217;s documentation</a><ul>
<li><a class="reference internal" href="#a-cnc-printer-for-binary-images">A CNC printer for binary images</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#system-requirements">System requirements</a></li>
<li><a class="reference internal" href="#design">Design</a></li>
<li><a class="reference internal" href="#specification">Specification</a></li>
<li><a class="reference internal" href="#subsystems">Subsystems</a><ul>
<li><a class="reference internal" href="#pimg">PIMG</a></li>
<li><a class="reference internal" href="#module-printerc">printerc</a></li>
<li><a class="reference internal" href="#mcircuit">mcircuit</a><ul>
<li><a class="reference internal" href="#mm12">MM12</a></li>
<li><a class="reference internal" href="#mcb">MCB</a></li>
</ul>
</li>
<li><a class="reference internal" href="#printerm">printerm</a></li>
</ul>
</li>
<li><a class="reference internal" href="#physical-components">Physical Components</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#operation">Operation</a></li>
<li><a class="reference internal" href="#todo">TODO</a></li>
<li><a class="reference internal" href="#references">References</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="np-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="#">printer73x 1.0.2 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Pedro I. López.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>